import{r as l,j as s}from"./app-ab501295.js";import{I as v}from"./InputError-5bed4518.js";import{I as d}from"./InputLabel-b3b06ced.js";import{P as b}from"./PrimaryButton-e3007bc1.js";import{S as y}from"./SecondaryButton-375f8a79.js";import{T as S}from"./TextInput-6f65be1e.js";import{T as I}from"./TextInputCheckbox-30883270.js";import"./lodash-18416f7f.js";function T({errors:o,permissions:x,submit:p,data:m,setData:c,model:i,closeButton:u}){const f=e=>{c({...m,[e.target.id]:e.target.value})},h=x;let j=i?i.permissions.map(e=>e.id):[];const[t,n]=l.useState([]);l.useEffect(()=>{const e=j,r=h.map(a=>e.includes(a.id)?{...a,isSelected:!0}:a);n(r)},[]);const N=e=>{n(r=>r.map(a=>a.id===e?{...a,isSelected:!a.isSelected}:a))},g=t.filter(e=>e.isSelected).map(e=>e.id);return l.useEffect(()=>{c({...m,permissions:g})},[t]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-5 bg-white sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsxs("div",{className:"col-span-12",children:[s.jsx(d,{htmlFor:"name",value:"Nama"}),s.jsx(S,{id:"name",name:"name",value:m.name,onChange:f,type:"text",className:"block w-full mt-1"}),s.jsx(v,{message:o.name,className:"mt-2"})]}),s.jsx("div",{className:"col-span-12 mt-2",children:s.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Permissions"})}),t.map(e=>s.jsxs("div",{className:"flex justify-between col-span-4 px-3 py-4 border rounded-md",children:[s.jsx(d,{htmlFor:e.name,value:e.name,className:"uppercase"}),s.jsx("div",{className:"flex flex-col items-start",children:s.jsx(I,{id:e.name,value:e.id,name:e.name,checked:e.isSelected,onChange:r=>{N(e.id)},className:"block w-full"},e.id)})]},e.id))]})}),s.jsxs("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx(b,{children:p}),s.jsx(y,{className:"mx-2",onClick:u,children:"Batal"})]})]})}export{T as default};
