import{r as t,j as s}from"./app-ab501295.js";import{I as x}from"./InputError-5bed4518.js";import{I as c}from"./InputLabel-b3b06ced.js";import{P as F}from"./PrimaryButton-e3007bc1.js";import{S as C}from"./SecondaryButton-375f8a79.js";import{T as p}from"./TextInput-6f65be1e.js";import{T as S}from"./TextInputCheckbox-30883270.js";import"./lodash-18416f7f.js";function P({errors:i,roles:f,submit:h,data:l,setData:n,model:d,closeButton:j}){const o=e=>{n({...l,[e.target.id]:e.target.value})},N=f;let v=d?d.roles.map(e=>e.id):[];const[r,u]=t.useState([]);t.useEffect(()=>{const e=v,m=N.map(a=>e.includes(a.id)?{...a,isSelected:!0}:a);u(m)},[]);const g=e=>{u(m=>m.map(a=>a.id===e?{...a,isSelected:!a.isSelected}:a))},b=r.filter(e=>e.isSelected).map(e=>e.id);return t.useEffect(()=>{n({...l,roles:b})},[r]),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"px-4 py-5 bg-white sm:p-6",children:s.jsxs("div",{className:"grid grid-cols-12 gap-6",children:[s.jsxs("div",{className:"col-span-6",children:[s.jsx(c,{htmlFor:"name",value:"Nama"}),s.jsx(p,{id:"name",name:"name",value:l.name,className:"block w-full mt-1",autoComplete:"name",isFocused:!0,onChange:o,required:!0}),s.jsx(x,{message:i.name,className:"mt-2"})]}),s.jsxs("div",{className:"col-span-6",children:[s.jsx(c,{htmlFor:"email",value:"Email"}),s.jsx(p,{id:"email",name:"email",value:l.email,className:"block w-full mt-1",autoComplete:"email",isFocused:!1,onChange:o,required:!0}),s.jsx(x,{message:i.email,className:"mt-2"})]}),s.jsx("div",{className:"col-span-12 mt-2",children:s.jsx("p",{className:"text-lg font-semibold text-gray-700",children:"Pilih Roles"})}),r.map(e=>s.jsxs("div",{className:"flex justify-between col-span-4 px-3 py-4 border rounded-md",children:[s.jsx(c,{htmlFor:e.name,value:e.name,className:"uppercase"}),s.jsx("div",{className:"flex flex-col items-start",children:s.jsx(S,{id:e.name,value:e.id,name:e.name,checked:e.isSelected,onChange:m=>{g(e.id)},className:"block w-full"},e.id)})]},e.id))]})}),s.jsxs("div",{className:"px-4 py-3 sm:px-6 sm:flex sm:flex-row-reverse",children:[s.jsx(F,{children:h}),s.jsx(C,{className:"mx-2",onClick:j,children:"Batal"})]})]})}export{P as default};
